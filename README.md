# README

## このリポジトリについて

cursorを使用してMQL5のベストプラクティスを考察するリポジトリです。
トレード戦略、トレーリング、ロット、リスク管理などを柔軟に設計が出来るようにしています。

## 設計ドキュメント

フレームワークの詳細な設計については、以下のドキュメントを参照してください：

- [MQL5トレーディングフレームワーク設計書](Docs/FrameworkDesign.md) - アーキテクチャ、クラス図、処理の流れ、拡張方法などの詳細を記載

## 環境構築

### 前提条件
- MetaTrader 5がインストールされていること
- Gitがインストールされていること

### インストール手順

1. **MT5データディレクトリを確認**  
   MT5を起動し、「ファイル」→「データフォルダを開く」を選択して、MT5のデータディレクトリを確認します。  
   通常は以下のようなパスになります：
   - Windows: `C:\Users\[ユーザー名]\AppData\Roaming\MetaQuotes\Terminal\[ランダムな文字列]\MQL5`
   - macOS: `/Users/[ユーザー名]/Library/Application Support/MetaQuotes/Terminal/[ランダムな文字列]/MQL5`

2. **リポジトリをクローン**  
   ターミナル（コマンドプロンプトまたはPowerShell）を開き、以下のコマンドを実行します：
   ```
   git clone https://github.com/[ユーザー名]/[リポジトリ名].git
   ```

3. **ファイルをMT5ディレクトリに配置**  
   クローンしたリポジトリのファイルを、ステップ1で確認したMT5のMQL5ディレクトリにコピーします。  
   または、リポジトリを直接MQL5ディレクトリにクローンすることもできます：
   ```
   cd [MT5のMQL5ディレクトリのパス]
   git clone https://github.com/[ユーザー名]/[リポジトリ名].git .
   ```
   注意: 既存のファイルを上書きする場合は、先に重要なファイルをバックアップしてください。

4. **不足ファイルの復元**  
   Gitリポジトリには含まれていないMT5関連ファイルが存在する場合があります。以下の手順で確認・復元します：
   ```
   # 現在の変更状態を確認
   git status
   
   # 表示された未追跡のファイル(.gitignoreで除外されているファイル)は通常のMT5動作に必要なファイルなので保持します
   
   # もし誤って削除したファイルがある場合は以下のコマンドで復元できます
   git checkout -- [ファイルパス]
   
   # すべての変更を破棄して元の状態に戻す場合（注意: ローカルの変更がすべて失われます）
   git reset --hard HEAD
   ```
   
   リポジトリの初期セットアップ後、MT5を起動して変更を適用します。「エキスパートアドバイザー」→「MyEA」→「EATemplate」を右クリックし、「コンパイル」を選択して動作確認します。

### 使用開始方法

1. **MT5を起動**  
   MetaTrader 5を起動します。

2. **EAのコンパイル**  
   ナビゲーターウィンドウ（F9キーで表示）で「エキスパートアドバイザー」→「MyEA」フォルダを開き、使用したいEAを右クリックして「コンパイル」を選択します。  
   エラーがなければ、コンパイルは成功です。

3. **EAをチャートに適用**  
   任意の通貨ペアのチャートを開き、コンパイルしたEAをナビゲーターからドラッグ＆ドロップします。  
   設定ダイアログが表示されるので、必要なパラメータを設定し「OK」をクリックします。

4. **AutoTradingを有効化**  
   MT5上部のツールバーにある「AutoTrading」ボタンが有効になっていることを確認します。  
   無効の場合はクリックして有効にします。

5. **バックテスト実行（オプション）**  
   新しい戦略をテストする場合は、「表示」→「ストラテジーテスター」（またはCtrl+R）でテスターを開き、  
   EAを選択して期間や設定を指定した後、「スタート」ボタンでバックテストを実行できます。
